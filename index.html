<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Kontaktio — Demo asystentów AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#070b18" />
  <meta name="color-scheme" content="dark light" />

  <style>
    :root{
      --bg0:#050816;
      --bg1:#070b1a;
      --glass: rgba(255,255,255,.08);
      --glass2: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.18);
      --stroke2: rgba(255,255,255,.24);
      --txt: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.62);
      --muted2: rgba(255,255,255,.74);
      --shadow: 0 26px 90px rgba(0,0,0,.42);
      --shadow2: 0 16px 50px rgba(0,0,0,.30);
      --radius: 28px;
      --radius2: 18px;
      --ease: cubic-bezier(.2,.9,.2,1);

      --a1:#7c3aed;
      --a2:#2563eb;
      --a3:#22d3ee;
      --a4:#10b981;
      --a5:#f59e0b;

      --safeTop: env(safe-area-inset-top, 0px);
      --safeBottom: env(safe-area-inset-bottom, 0px);
      --max: 1140px;

      --btn: rgba(255,255,255,.10);
      --btnHover: rgba(255,255,255,.14);
      --btnStroke: rgba(255,255,255,.18);

      --kbd: rgba(255,255,255,.08);
      --kbdStroke: rgba(255,255,255,.14);

      /* ===== Tabs fixed sizes (NO % / NO language shift) ===== */
      --tab-h: 48px;
      --tab-pad: 7px;
      --tab-w: 176px; /* stała szerokość na desktopie */
      --tab-gap: 6px;
    }

    *{ box-sizing: border-box; }
    html,body{ height: 100%; }
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","SF Pro Text",system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--txt);
      background:
        radial-gradient(1200px 900px at 20% 10%, #0b1640 0%, transparent 55%),
        radial-gradient(900px 700px at 80% 18%, #220b4a 0%, transparent 60%),
        radial-gradient(900px 600px at 50% 95%, #0a2a2a 0%, transparent 58%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }
    a{ color: inherit; }

    /* ===== Aurora background ===== */
    .aurora{
      position:fixed;
      inset:-35%;
      z-index:-3;
      filter: blur(96px);
      transform: translateZ(0);
      background:
        radial-gradient(36% 30% at 20% 26%, rgba(124,58,237,.55), transparent 62%),
        radial-gradient(36% 30% at 82% 20%, rgba(37,99,235,.55), transparent 60%),
        radial-gradient(32% 30% at 52% 86%, rgba(34,211,238,.50), transparent 62%),
        radial-gradient(26% 26% at 74% 78%, rgba(16,185,129,.36), transparent 64%),
        radial-gradient(22% 22% at 18% 78%, rgba(245,158,11,.22), transparent 64%);
      animation: auroraFloat 16s var(--ease) infinite alternate;
    }
    .aurora::after{
      content:"";
      position:absolute;
      inset:-10%;
      background:
        radial-gradient(40% 35% at 28% 70%, rgba(37,99,235,.22), transparent 60%),
        radial-gradient(40% 35% at 74% 28%, rgba(124,58,237,.22), transparent 60%);
      animation: auroraFloat2 22s var(--ease) infinite alternate;
      opacity:.95;
    }
    @keyframes auroraFloat{
      from{ transform: translate3d(-1.3%, -1.2%, 0) scale(1.02); }
      to{ transform: translate3d( 1.2%, 1.4%, 0) scale(1.06); }
    }
    @keyframes auroraFloat2{
      from{ transform: translate3d( 1.0%, -1.4%, 0) scale(1.00); opacity:.85; }
      to{ transform: translate3d(-1.1%, 1.2%, 0) scale(1.08); opacity:1; }
    }
    .noise{
      position:fixed;
      inset:0;
      pointer-events:none;
      z-index:-2;
      opacity:.085;
      mix-blend-mode: overlay;
      background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.8'/%3E%3C/svg%3E");
    }

    /* Cursor glow */
    .glow{
      position:fixed;
      width:780px;
      height:780px;
      border-radius:999px;
      pointer-events:none;
      z-index:-1;
      background: radial-gradient(circle at center, rgba(255,255,255,.13), transparent 56%);
      transform: translate3d(-9999px,-9999px,0);
      opacity:0;
      transition: opacity .25s ease;
    }
    @media (hover:hover){
      body:hover .glow{ opacity:1; }
    }
    @media (prefers-reduced-motion: reduce){
      .aurora, .aurora::after{ animation:none !important; }
      .glow{ display:none !important; }
    }

    /* ===== Layout ===== */
    .wrap{
      max-width: var(--max);
      margin:0 auto;
      padding: calc(64px + var(--safeTop)) 24px calc(120px + var(--safeBottom));
    }

    /* Topbar */
    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom: 34px;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      user-select:none;
    }
    .logo{
      width:38px;
      height:38px;
      border-radius: 14px;
      background:
        radial-gradient(18px 18px at 30% 30%, rgba(255,255,255,.95), rgba(255,255,255,.15)),
        linear-gradient(135deg, rgba(37,99,235,.95), rgba(124,58,237,.95));
      box-shadow: 0 16px 45px rgba(37,99,235,.20);
    }
    .brandText{ line-height:1.05; }
    .brandText b{
      display:block;
      font-size: 14px;
      letter-spacing:.01em;
      font-weight:760;
      color: rgba(255,255,255,.92);
    }
    .brandText span{
      display:block;
      font-size: 12px;
      color: var(--muted);
    }

    .lang{
      display:flex;
      align-items:center;
      gap:8px;
      padding: 7px;
      border-radius: 999px;
      background: var(--glass);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(18px);
    }
    .lang button{
      border:none;
      background: transparent;
      cursor:pointer;
      height: 34px;
      padding: 0 12px;
      border-radius: 999px;
      color: var(--muted2);
      font-weight: 680;
      font-size: 12px;
      letter-spacing:.01em;
      transition: all .35s var(--ease);
    }
    .lang button.active{
      background: rgba(255,255,255,.92);
      color: rgba(2,6,23,.92);
      box-shadow: 0 10px 30px rgba(0,0,0,.18);
    }

    /* Hero */
    .hero{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 22px;
      align-items: start;
    }
    .card{
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.11), rgba(255,255,255,.06));
      border: 1px solid var(--stroke);
      backdrop-filter: blur(18px);
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(720px 260px at 25% 20%, rgba(255,255,255,.12), transparent 60%),
        radial-gradient(720px 260px at 85% 80%, rgba(124,58,237,.10), transparent 60%);
      pointer-events:none;
    }

    .heroMain{ padding: 22px 22px 18px; }
    h1{
      margin: 0 0 12px;
      font-size: clamp(34px, 4.6vw, 60px);
      line-height: 1.03;
      letter-spacing: -0.035em;
      font-weight: 760;
    }
    .sub{
      margin: 0;
      color: var(--muted);
      font-size: 16px;
      line-height: 1.75;
      max-width: 70ch;
    }
    .chips{
      margin-top: 16px;
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap: 8px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.76);
      font-size: 12px;
      user-select:none;
      transition: transform .35s var(--ease), background .35s var(--ease), border-color .35s var(--ease);
      white-space: nowrap;
    }
    .chip:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.08);
      border-color: rgba(255,255,255,.22);
    }
    .dot{
      width: 9px;
      height: 9px;
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.25));
      box-shadow: 0 0 0 3px rgba(255,255,255,.08);
      flex: 0 0 auto;
    }

    .heroSide{ padding: 18px; box-shadow: var(--shadow2); }
    .miniGrid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
      position: relative;
      z-index: 1;
    }
    .mini{
      padding: 12px 12px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
    }
    .mini b{
      display:block;
      font-size: 13px;
      letter-spacing:.01em;
      font-weight: 720;
      margin-bottom: 6px;
      color: rgba(255,255,255,.86);
    }
    .mini span{
      display:block;
      font-size: 12px;
      color: rgba(255,255,255,.62);
      line-height: 1.55;
    }

    /* Tabs / agent switcher */
    .switcher{ margin-top: 16px; display:flex; justify-content:flex-start; }

    .tabs{
      display:inline-flex;
      gap: var(--tab-gap);
      padding: var(--tab-pad);
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(18px);
      box-shadow: 0 10px 35px rgba(0,0,0,.22);
      position: relative;
      overflow:hidden;
      z-index: 2;
      isolation: isolate;
    }

    /* pill */
    .tabs .pill{
      position:absolute;
      top: var(--tab-pad);
      left: var(--tab-pad);
      height: var(--tab-h);
      width: var(--tab-w);
      border-radius:999px;
      background: rgba(255,255,255,.92);
      box-shadow: 0 16px 45px rgba(0,0,0,.22);
      transition: transform .55s var(--ease), width .55s var(--ease);
      will-change: transform, width;
      z-index:0;
    }

    /* FIX: stałe wymiary (desktop) + zero rozjeżdżania przy języku */
    .tabs button{
      position:relative;
      z-index:1;
      appearance:none;
      border:none;
      background: transparent;
      height: var(--tab-h);
      width: var(--tab-w);
      padding: 0 14px;
      border-radius: 999px;
      cursor:pointer;
      font-weight: 720;
      font-size: 13px;
      letter-spacing:.01em;
      color: rgba(255,255,255,.62);
      transition: color .35s var(--ease), transform .35s var(--ease);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      user-select:none;
      outline:none;
      white-space: nowrap;
      flex: 0 0 auto;
    }
    .tabs button:hover{ color: rgba(255,255,255,.86); transform: translateY(-1px); }
    .tabs button.active{ color: rgba(2,6,23,.92); }

    .tabs button > span:first-child{
      display:inline-block;
      max-width: 92px;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .tag{
      display:inline-flex;
      align-items:center;
      height: 20px;
      padding: 0 9px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.70);
      font-size: 11px;
      font-weight: 700;
      transition: all .35s var(--ease);
      white-space: nowrap;
      flex: 0 0 auto;
    }
    .tabs button.active .tag{
      border-color: rgba(0,0,0,.06);
      background: rgba(0,0,0,.05);
      color: rgba(0,0,0,.56);
    }

    /* Panel below */
    .panel{ margin-top: 16px; padding: 18px; }
    .panel::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(700px 260px at 15% 20%, rgba(37,99,235,.14), transparent 60%),
        radial-gradient(700px 260px at 85% 70%, rgba(124,58,237,.14), transparent 60%);
      pointer-events:none;
    }
    .panelTop{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 14px;
      position: relative;
      z-index: 1;
    }
    .agentTitle{
      margin:0;
      font-size: 18px;
      letter-spacing: -.01em;
      font-weight: 760;
    }
    .agentDesc{
      margin: 6px 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.65;
      max-width: 92ch;
    }
    .actions{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
    }
    .btn{
      height: 38px;
      padding: 0 14px;
      border-radius: 999px;
      border: 1px solid var(--btnStroke);
      background: var(--btn);
      color: rgba(255,255,255,.86);
      cursor:pointer;
      font-weight: 700;
      font-size: 12px;
      transition: transform .35s var(--ease), background .35s var(--ease), border-color .35s var(--ease);
      user-select:none;
      white-space: nowrap;
    }
    .btn:hover{ transform: translateY(-1px); background: var(--btnHover); border-color: rgba(255,255,255,.24); }
    .btn.primary{
      border-color: rgba(255,255,255,0);
      background: linear-gradient(135deg, rgba(37,99,235,.95), rgba(124,58,237,.95));
      box-shadow: 0 14px 42px rgba(37,99,235,.25);
    }
    .divider{
      height:1px;
      background: rgba(255,255,255,.10);
      margin-top: 14px;
      position: relative;
      z-index:1;
    }

    /* Sections */
    .section{ margin-top: 22px; padding: 22px; }
    .sectionHead{
      display:flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 12px;
      position: relative;
      z-index:1;
      margin-bottom: 14px;
    }
    .sectionHead h2{ margin:0; font-size: 18px; font-weight: 760; letter-spacing: -.01em; }
    .sectionHead p{ margin:0; color: var(--muted); font-size: 13px; line-height: 1.6; max-width: 70ch; }

    /* Benefits grid */
    .grid3{
      position: relative;
      z-index: 1;
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }
    .box{
      padding: 14px 14px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
    }
    .box h3{
      margin:0 0 8px;
      font-size: 14px;
      font-weight: 760;
      letter-spacing: -.01em;
      color: rgba(255,255,255,.88);
    }
    .box p{
      margin:0;
      color: rgba(255,255,255,.64);
      font-size: 13px;
      line-height: 1.65;
    }

    /* Steps */
    .steps{
      position: relative;
      z-index:1;
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 14px;
    }
    .stepNum{
      width: 34px;
      height: 34px;
      border-radius: 12px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight: 820;
      letter-spacing: -.01em;
      color: rgba(2,6,23,.92);
      background: rgba(255,255,255,.92);
      box-shadow: 0 12px 34px rgba(0,0,0,.18);
      margin-bottom: 10px;
    }

    /* FAQ */
    .faq{
      position: relative;
      z-index:1;
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }
    details{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      overflow:hidden;
      transition: border-color .35s var(--ease), background .35s var(--ease);
    }
    details:hover{ border-color: rgba(255,255,255,.22); background: rgba(255,255,255,.075); }
    summary{
      list-style: none;
      cursor: pointer;
      padding: 14px 14px;
      font-weight: 740;
      font-size: 13px;
      color: rgba(255,255,255,.88);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      user-select:none;
    }
    summary::-webkit-details-marker{ display:none; }
    .faqBody{
      padding: 0 14px 14px;
      color: rgba(255,255,255,.66);
      font-size: 13px;
      line-height: 1.7;
    }
    .chev{
      width: 20px;
      height: 20px;
      opacity: .8;
      transition: transform .35s var(--ease), opacity .35s var(--ease);
      flex: 0 0 auto;
    }
    details[open] .chev{ transform: rotate(180deg); opacity: 1; }

    /* CTA */
    .cta{
      margin-top: 22px;
      padding: 22px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 14px;
    }
    .cta h2{ margin:0; font-size: 18px; font-weight: 760; letter-spacing: -.01em; }
    .cta p{ margin: 6px 0 0; color: var(--muted); font-size: 13px; line-height: 1.6; max-width: 72ch; }
    .ctaRight{ display:flex; align-items:center; gap: 10px; flex-wrap: wrap; justify-content: flex-end; }
    .mail{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 11px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      text-decoration: none;
      color: rgba(255,255,255,.88);
      font-weight: 720;
      font-size: 12px;
      transition: transform .35s var(--ease), background .35s var(--ease), border-color .35s var(--ease);
      white-space: nowrap;
    }
    .mail:hover{ transform: translateY(-1px); background: rgba(255,255,255,.085); border-color: rgba(255,255,255,.22); }

    /* Footer */
    footer{
      margin-top: 26px;
      padding: 18px 6px 0;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      color: rgba(255,255,255,.55);
      font-size: 12px;
      flex-wrap: wrap;
    }
    .footerLinks{ display:flex; gap: 12px; flex-wrap: wrap; justify-content: flex-end; }
    .footerLinks a{
      color: rgba(255,255,255,.72);
      text-decoration:none;
      border-bottom: 1px solid rgba(255,255,255,.0);
      transition: border-color .25s ease, color .25s ease;
      white-space: nowrap;
    }
    .footerLinks a:hover{ color: rgba(255,255,255,.88); border-color: rgba(255,255,255,.35); }

    /* Reveal animation */
    .reveal{ opacity: 0; transform: translateY(10px); transition: opacity .7s var(--ease), transform .7s var(--ease); }
    .reveal.on{ opacity: 1; transform: translateY(0); }

    /* Mobile adjustments */
    @media (max-width: 960px){
      .hero{ grid-template-columns: 1fr; }
      .actions{ justify-content: flex-start; }
      .cta{ flex-direction: column; align-items: flex-start; }
      .ctaRight{ justify-content: flex-start; }
    }
    @media (max-width: 720px){
      .grid3{ grid-template-columns: 1fr; }
      .steps{ grid-template-columns: 1fr; }
    }

    /* On mobile: buttons fill width; still stable (no overlap) */
    @media (max-width: 560px){
      .wrap{ padding: calc(44px + var(--safeTop)) 16px calc(110px + var(--safeBottom)); }
      .tabs{ width: 100%; }
      .tabs button{
        width: auto;
        flex: 1 1 0;
        padding: 0 10px;
      }
      .tabs .pill{ width: calc((100% - (var(--tab-pad) * 2) - (var(--tab-gap) * 2)) / 3); }
    }

    @media (prefers-reduced-motion: reduce){
      .reveal{ transition: none !important; }
      .tabs .pill{ transition: none !important; }
      .tabs button, .chip, .btn, .mail{ transition: none !important; }
    }
  </style>

  <!-- =========================================================
       Kontaktio WOW (Apple-style) — widget dla każdego agenta
       ========================================================= -->
  <style>
    :root {
      --k-accent: #2563eb;
      --k-accent2: #7c3aed;
      --k-glass: rgba(15, 23, 42, 0.62);
      --k-glass-soft: rgba(2, 6, 23, 0.28);
      --k-border: rgba(255, 255, 255, 0.14);
      --k-text: rgba(255, 255, 255, 0.92);
      --k-muted: rgba(255, 255, 255, 0.7);
    }

    /* Launcher */
    .kontaktio-launcher {
      width: 60px !important;
      height: 60px !important;
      border-radius: 999px !important;
      background: linear-gradient(135deg, var(--k-accent), var(--k-accent2)) !important;
      color: #fff !important;
      border: 1px solid rgba(255,255,255,.22) !important;
      box-shadow:
        0 18px 50px rgba(0,0,0,.35),
        0 0 0 10px rgba(37,99,235,.12),
        0 0 0 22px rgba(124,58,237,.08) !important;
      overflow: hidden !important;
      position: relative !important;
    }

    .kontaktio-launcher::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(60% 60% at 30% 30%, rgba(255,255,255,.45), transparent 60%),
        radial-gradient(60% 60% at 70% 70%, rgba(255,255,255,.18), transparent 62%);
      filter: blur(6px);
      animation: kontaktioAurora 7s ease-in-out infinite;
      pointer-events: none;
    }

    .kontaktio-launcher > div {
      position: relative;
      z-index: 2;
      font-size: 22px;
    }

    /* Widget glass */
    .kontaktio-widget {
      border-radius: 22px !important;
      border: 1px solid var(--k-border) !important;
      background: var(--k-glass) !important;
      backdrop-filter: blur(18px) saturate(140%) !important;
      -webkit-backdrop-filter: blur(18px) saturate(140%) !important;
      box-shadow:
        0 28px 90px rgba(0,0,0,.45),
        0 1px 0 rgba(255,255,255,.06) inset !important;
      overflow: hidden !important;
      position: relative !important;
    }

    .kontaktio-widget::before {
      content: "";
      position: absolute;
      inset: -40px;
      background:
        radial-gradient(600px 420px at 20% 10%, rgba(37,99,235,.35), transparent 60%),
        radial-gradient(520px 420px at 90% 0%, rgba(124,58,237,.30), transparent 58%),
        radial-gradient(560px 460px at 30% 110%, rgba(16,185,129,.20), transparent 55%);
      filter: blur(18px);
      pointer-events: none;
      animation: kontaktioAurora 9s ease-in-out infinite;
    }

    /* Header */
    .kontaktio-header {
      background: linear-gradient(180deg, rgba(2,6,23,.55), rgba(2,6,23,.18)) !important;
      color: var(--k-text) !important;
      border-bottom: 1px solid rgba(255,255,255,.1) !important;
      position: relative !important;
      z-index: 2 !important;
    }

    .kontaktio-header-sub {
      color: var(--k-muted) !important;
    }

    /* Messages */
    .kontaktio-bubble {
      border-radius: 16px !important;
      font-size: 14.5px !important;
      line-height: 1.45 !important;
      box-shadow:
        0 16px 40px rgba(0,0,0,.18),
        0 1px 0 rgba(255,255,255,.06) inset !important;
    }

    .kontaktio-row.bot .kontaktio-bubble {
      background: rgba(255,255,255,.10) !important;
      color: var(--k-text) !important;
      border: 1px solid rgba(255,255,255,.12) !important;
    }

    .kontaktio-row.user .kontaktio-bubble {
      background: linear-gradient(135deg, var(--k-accent), var(--k-accent2)) !important;
      color: #fff !important;
      border: 1px solid rgba(255,255,255,.10) !important;
    }

    /* Input */
    .kontaktio-inputwrap {
      background: linear-gradient(180deg, rgba(2,6,23,.12), rgba(2,6,23,.28)) !important;
      border-top: 1px solid rgba(255,255,255,.1) !important;
      position: relative !important;
      z-index: 2 !important;
    }

    .kontaktio-input {
      background: rgba(255,255,255,.10) !important;
      color: var(--k-text) !important;
      border: 1px solid rgba(255,255,255,.14) !important;
    }

    .kontaktio-input::placeholder {
      color: rgba(255,255,255,.55) !important;
    }

    .kontaktio-send {
      background: linear-gradient(135deg, var(--k-accent), var(--k-accent2)) !important;
      color: #fff !important;
      border: 1px solid rgba(255,255,255,.18) !important;
    }

    /* Extra polish: quick replies (jeśli istnieją w Twoim widgecie) */
    .kontaktio-quick button,
    .kontaktio-quick-replies button,
    .kontaktio-quick-reply {
      border-radius: 999px !important;
      border: 1px solid rgba(255,255,255,.14) !important;
      background: rgba(255,255,255,.08) !important;
      color: rgba(255,255,255,.88) !important;
      backdrop-filter: blur(14px) !important;
      -webkit-backdrop-filter: blur(14px) !important;
      transition: transform .25s ease, background .25s ease, border-color .25s ease !important;
      white-space: nowrap !important;
    }

    .kontaktio-quick button:hover,
    .kontaktio-quick-replies button:hover,
    .kontaktio-quick-reply:hover {
      transform: translateY(-1px) !important;
      background: rgba(255,255,255,.10) !important;
      border-color: rgba(255,255,255,.22) !important;
    }

    @keyframes kontaktioAurora {
      0% { transform: translate(0,0) scale(1); }
      50% { transform: translate(10px,-8px) scale(1.02); }
      100% { transform: translate(0,0) scale(1); }
    }

    @media (prefers-reduced-motion: reduce) {
      .kontaktio-widget::before,
      .kontaktio-launcher::before {
        animation: none !important;
      }
    }
  </style>
</head>

<body>
  <div class="aurora"></div>
  <div class="noise"></div>
  <div class="glow" id="glow"></div>

  <div class="wrap">
    <!-- Topbar -->
    <div class="topbar">
      <a class="brand" href="#" aria-label="Kontaktio">
        <div class="logo" aria-hidden="true"></div>
        <div class="brandText">
          <b>Kontaktio</b>
          <span data-i18n="top.tagline">Asystenci AI dla firm</span>
        </div>
      </a>

      <div class="lang" aria-label="Language">
        <button id="langPL" class="active" type="button">PL</button>
        <button id="langEN" type="button">EN</button>
      </div>
    </div>

    <!-- Hero -->
    <section class="hero">
      <div class="card heroMain reveal" data-reveal>
        <h1 data-i18n="hero.title">Demo asystentów AI, które po prostu robią robotę.</h1>
        <p class="sub" data-i18n="hero.sub">
          Przełączaj agentów jak profile. Ten sam system, ale inna firma, inna wiedza i inny styl rozmowy.
          Klient dostaje szybkie odpowiedzi i jasny kierunek: oferta, kontakt, kolejny krok.
        </p>

        <div class="chips">
          <div class="chip"><span class="dot"></span><span data-i18n="chips.1">Odpowiedzi dopasowane do firmy</span></div>
          <div class="chip"><span class="dot"></span><span data-i18n="chips.2">Dostępność 24/7</span></div>
          <div class="chip"><span class="dot"></span><span data-i18n="chips.3">Spójny ton i zasady</span></div>
          <div class="chip"><span class="dot"></span><span data-i18n="chips.4">Szybkie wdrożenie</span></div>
        </div>

        <div class="switcher">
          <div class="tabs" id="tabs">
            <div class="pill" id="pill"></div>

            <button data-client="amico" class="active" data-label="Amico" type="button">
              <span>Amico</span>
              <span class="tag" data-i18n="tags.local">lokalny</span>
            </button>

            <button data-client="demo" data-label="Demo" type="button">
              <span>Demo</span>
              <span class="tag" data-i18n="tags.general">uniwersalny</span>
            </button>

            <button data-client="premium" data-label="Premium" type="button">
              <span>Premium</span>
              <span class="tag" data-i18n="tags.premium">elegancki</span>
            </button>
          </div>
        </div>
      </div>

      <aside class="card heroSide reveal" data-reveal>
        <div class="miniGrid">
          <div class="mini">
            <b data-i18n="side.how.title">Jak testować</b>
            <span data-i18n="side.how.body">Kliknij ikonę czatu w prawym dolnym rogu. Zapytaj o ofertę, godziny lub wycenę.</span>
          </div>
          <div class="mini">
            <b data-i18n="side.why.title">Po co przełączanie</b>
            <span data-i18n="side.why.body">Chodzi o pokazanie różnic: ton, zwięzłość, sposób prowadzenia rozmowy i finalny efekt.</span>
          </div>
          <div class="mini">
            <b data-i18n="side.safe.title">Kontrola</b>
            <span data-i18n="side.safe.body">Asystent nie wymyśla danych. Jeśli czegoś nie wie — zaproponuje kontakt z firmą.</span>
          </div>
        </div>
      </aside>
    </section>

    <!-- Panel -->
    <section class="card panel reveal" data-reveal>
      <div class="panelTop">
        <div>
          <h2 class="agentTitle" id="agentTitle">Amico</h2>
          <p class="agentDesc" id="agentDesc" data-i18n="agent.amico">
            Styl przyjazny i konkretny. Dobry do firm usługowych, gdzie liczy się szybka odpowiedź i kontakt.
          </p>
        </div>

        <div class="actions">
          <button class="btn primary" id="btnOpen" type="button" data-i18n="buttons.open">Otwórz asystenta</button>
          <button class="btn" id="btnClear" type="button" data-i18n="buttons.clear">Wyczyść rozmowę</button>
        </div>
      </div>
      <div class="divider"></div>
    </section>

    <!-- Benefits -->
    <section class="card section reveal" data-reveal>
      <div class="sectionHead">
        <div>
          <h2 data-i18n="benefits.title">Co to daje firmie</h2>
          <p data-i18n="benefits.sub">Krótko i konkretnie — bez obietnic z kosmosu. To są praktyczne rzeczy, które widać w rozmowie.</p>
        </div>
      </div>

      <div class="grid3">
        <div class="box">
          <h3 data-i18n="benefits.b1.title">Mniej straconych zapytań</h3>
          <p data-i18n="benefits.b1.body">Klient nie czeka. Dostaje odpowiedź od razu i wie, co zrobić dalej.</p>
        </div>
        <div class="box">
          <h3 data-i18n="benefits.b2.title">Odciążenie zespołu</h3>
          <p data-i18n="benefits.b2.body">Powtarzalne pytania (oferta, godziny, kontakt) obsługuje asystent, nie pracownik.</p>
        </div>
        <div class="box">
          <h3 data-i18n="benefits.b3.title">Spójne komunikaty</h3>
          <p data-i18n="benefits.b3.body">Jedna jakość odpowiedzi niezależnie od pory dnia, humoru czy zmiany w zespole.</p>
        </div>

        <div class="box">
          <h3 data-i18n="benefits.b4.title">Lepsze pierwsze wrażenie</h3>
          <p data-i18n="benefits.b4.body">To często pierwszy kontakt klienta z firmą. Liczy się szybkość i klarowność.</p>
        </div>
        <div class="box">
          <h3 data-i18n="benefits.b5.title">Dopasowanie do branży</h3>
          <p data-i18n="benefits.b5.body">Inna firma = inna wiedza i styl. Nie ma jednego “uniwersalnego chatbota”.</p>
        </div>
        <div class="box">
          <h3 data-i18n="benefits.b6.title">Łatwe aktualizacje</h3>
          <p data-i18n="benefits.b6.body">Zmiany w ofercie? Aktualizujemy konfigurację i asystent mówi aktualnymi informacjami.</p>
        </div>
      </div>
    </section>

    <!-- Onboarding steps -->
    <section class="card section reveal" data-reveal>
      <div class="sectionHead">
        <div>
          <h2 data-i18n="onboarding.title">Jak wygląda wdrożenie</h2>
          <p data-i18n="onboarding.sub">Bez technicznego gadania. Po prostu: co robimy i kiedy możesz to mieć u siebie.</p>
        </div>
      </div>

      <div class="steps">
        <div class="box">
          <div class="stepNum">1</div>
          <h3 data-i18n="onboarding.s1.title">Krótka rozmowa</h3>
          <p data-i18n="onboarding.s1.body">Ustalamy, co ma odpowiadać asystent, jakim tonem i dokąd ma kierować klienta.</p>
        </div>
        <div class="box">
          <div class="stepNum">2</div>
          <h3 data-i18n="onboarding.s2.title">Konfiguracja i test</h3>
          <p data-i18n="onboarding.s2.body">Przygotowujemy wersję dopasowaną do firmy i wysyłamy do sprawdzenia na żywo.</p>
        </div>
        <div class="box">
          <div class="stepNum">3</div>
          <h3 data-i18n="onboarding.s3.title">Start</h3>
          <p data-i18n="onboarding.s3.body">Uruchamiamy asystenta na stronie i obserwujemy, jakie pytania pojawiają się najczęściej.</p>
        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section class="card section reveal" data-reveal>
      <div class="sectionHead">
        <div>
          <h2 data-i18n="faq.title">FAQ</h2>
          <p data-i18n="faq.sub">Najczęstsze pytania, które padają na początku.</p>
        </div>
      </div>

      <div class="faq">
        <details>
          <summary>
            <span data-i18n="faq.q1">Czy asystent może umawiać terminy?</span>
            <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 9l6 6 6-6" stroke="rgba(255,255,255,.80)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </summary>
          <div class="faqBody" data-i18n="faq.a1">
            Może zbierać informacje od klienta i kierować do kontaktu. Jeśli potrzebujesz pełnej rezerwacji, dobieramy rozwiązanie do Twojego procesu.
          </div>
        </details>

        <details>
          <summary>
            <span data-i18n="faq.q2">Czy to działa na telefonie?</span>
            <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 9l6 6 6-6" stroke="rgba(255,255,255,.80)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </summary>
          <div class="faqBody" data-i18n="faq.a2">Tak. Widget i strona są zoptymalizowane pod urządzenia mobilne.</div>
        </details>

        <details>
          <summary>
            <span data-i18n="faq.q3">Czy asystent “wymyśla” odpowiedzi?</span>
            <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 9l6 6 6-6" stroke="rgba(255,255,255,.80)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </summary>
          <div class="faqBody" data-i18n="faq.a3">
            Asystent opiera się o konfigurację i wiedzę firmy. Jeśli czegoś nie ma w danych — informuje o tym i proponuje kontakt.
          </div>
        </details>

        <details>
          <summary>
            <span data-i18n="faq.q4">Ile trwa wdrożenie?</span>
            <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 9l6 6 6-6" stroke="rgba(255,255,255,.80)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </summary>
          <div class="faqBody" data-i18n="faq.a4">
            Zwykle bardzo szybko — wszystko zależy od tego, ile informacji chcesz umieścić w asystencie i jak ma prowadzić rozmowę.
          </div>
        </details>

        <details>
          <summary>
            <span data-i18n="faq.q5">Czy można dopasować wygląd do strony?</span>
            <svg class="chev" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M6 9l6 6 6-6" stroke="rgba(255,255,255,.80)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </summary>
          <div class="faqBody" data-i18n="faq.a5">
            Tak. Kolory, styl, układ i zachowanie widgetu są konfigurowalne tak, żeby pasowały do brandu.
          </div>
        </details>
      </div>
    </section>

    <!-- CTA -->
    <section class="card cta reveal" data-reveal>
      <div>
        <h2 data-i18n="cta.title">Chcesz wersję dla swojej firmy?</h2>
        <p data-i18n="cta.sub">
          Napisz, jaką branżę prowadzisz i jakie pytania klienci zadają najczęściej. Odeślemy propozycję wersji demo pod Twoją stronę.
        </p>
      </div>
      <div class="ctaRight">
        <a class="mail" href="mailto:kontaktio@zohomail.eu">kontaktio@zohomail.eu</a>
      </div>
    </section>

    <footer>
      <div>© <span id="year"></span> Kontaktio</div>
      <div class="footerLinks">
        <a href="#tabs" data-i18n="footer.try">Przetestuj asystenta</a>
        <a href="mailto:kontaktio@zohomail.eu" data-i18n="footer.contact">Kontakt</a>
      </div>
    </footer>
  </div>

  <script>
    // ===== KONFIG (Twoje realne wartości) =====
    const BACKEND_URL = "https://chatbot-backend-x2cy.onrender.com";
    const SCRIPT_SRC = "https://cdn.jsdelivr.net/gh/kontaktio-demo/kontaktio@5d9beb0/kontaktio.js";

    // ===== Copy & language content =====
    const COPY = {
      pl: {
        "top.tagline": "Asystenci AI dla firm",
        "hero.title": "Demo asystentów AI, które po prostu robią robotę.",
        "hero.sub": "Przełączaj agentów jak profile. Ten sam system, ale inna firma, inna wiedza i inny styl rozmowy. Klient dostaje szybkie odpowiedzi i jasny kierunek: oferta, kontakt, kolejny krok.",
        "chips.1": "Odpowiedzi dopasowane do firmy",
        "chips.2": "Dostępność 24/7",
        "chips.3": "Spójny ton i zasady",
        "chips.4": "Szybkie wdrożenie",
        "tags.local": "lokalny",
        "tags.general": "uniwersalny",
        "tags.premium": "elegancki",
        "buttons.open": "Otwórz asystenta",
        "buttons.clear": "Wyczyść rozmowę",
        "side.how.title": "Jak testować",
        "side.how.body": "Kliknij ikonę czatu w prawym dolnym rogu. Zapytaj o ofertę, godziny lub wycenę.",
        "side.why.title": "Po co przełączanie",
        "side.why.body": "Chodzi o pokazanie różnic: ton, zwięzłość, sposób prowadzenia rozmowy i finalny efekt.",
        "side.safe.title": "Kontrola",
        "side.safe.body": "Asystent nie wymyśla danych. Jeśli czegoś nie wie — zaproponuje kontakt z firmą.",
        "agent.amico": "Styl przyjazny i konkretny. Dobry do firm usługowych, gdzie liczy się szybka odpowiedź i kontakt.",
        "agent.demo": "Uniwersalny styl do pokazywania możliwości. Dobry balans między szczegółem a zwięzłością.",
        "agent.premium": "Spokojny, elegancki ton. Dla firm, które chcą bardzo dopracowanej obsługi.",
        "benefits.title": "Co to daje firmie",
        "benefits.sub": "Krótko i konkretnie — bez obietnic z kosmosu. To są praktyczne rzeczy, które widać w rozmowie.",
        "benefits.b1.title": "Mniej straconych zapytań",
        "benefits.b1.body": "Klient nie czeka. Dostaje odpowiedź od razu i wie, co zrobić dalej.",
        "benefits.b2.title": "Odciążenie zespołu",
        "benefits.b2.body": "Powtarzalne pytania (oferta, godziny, kontakt) obsługuje asystent, nie pracownik.",
        "benefits.b3.title": "Spójne komunikaty",
        "benefits.b3.body": "Jedna jakość odpowiedzi niezależnie od pory dnia, humoru czy zmiany w zespole.",
        "benefits.b4.title": "Lepsze pierwsze wrażenie",
        "benefits.b4.body": "To często pierwszy kontakt klienta z firmą. Liczy się szybkość i klarowność.",
        "benefits.b5.title": "Dopasowanie do branży",
        "benefits.b5.body": "Inna firma = inna wiedza i styl. Nie ma jednego “uniwersalnego chatbota”.",
        "benefits.b6.title": "Łatwe aktualizacje",
        "benefits.b6.body": "Zmiany w ofercie? Aktualizujemy konfigurację i asystent mówi aktualnymi informacjami.",
        "onboarding.title": "Jak wygląda wdrożenie",
        "onboarding.sub": "Bez technicznego gadania. Po prostu: co robimy i kiedy możesz to mieć u siebie.",
        "onboarding.s1.title": "Krótka rozmowa",
        "onboarding.s1.body": "Ustalamy, co ma odpowiadać asystent, jakim tonem i dokąd ma kierować klienta.",
        "onboarding.s2.title": "Konfiguracja i test",
        "onboarding.s2.body": "Przygotowujemy wersję dopasowaną do firmy i wysyłamy do sprawdzenia na żywo.",
        "onboarding.s3.title": "Start",
        "onboarding.s3.body": "Uruchamiamy asystenta na stronie i obserwujemy, jakie pytania pojawiają się najczęściej.",
        "faq.title": "FAQ",
        "faq.sub": "Najczęstsze pytania, które padają na początku.",
        "faq.q1": "Czy asystent może umawiać terminy?",
        "faq.a1": "Może zbierać informacje od klienta i kierować do kontaktu. Jeśli potrzebujesz pełnej rezerwacji, dobieramy rozwiązanie do Twojego procesu.",
        "faq.q2": "Czy to działa na telefonie?",
        "faq.a2": "Tak. Widget i strona są zoptymalizowane pod urządzenia mobilne.",
        "faq.q3": "Czy asystent “wymyśla” odpowiedzi?",
        "faq.a3": "Asystent opiera się o konfigurację i wiedzę firmy. Jeśli czegoś nie ma w danych — informuje o tym i proponuje kontakt.",
        "faq.q4": "Ile trwa wdrożenie?",
        "faq.a4": "Zwykle bardzo szybko — wszystko zależy od tego, ile informacji chcesz umieścić w asystencie i jak ma prowadzić rozmowę.",
        "faq.q5": "Czy można dopasować wygląd do strony?",
        "faq.a5": "Tak. Kolory, styl, układ i zachowanie widgetu są konfigurowalne tak, żeby pasowały do brandu.",
        "cta.title": "Chcesz wersję dla swojej firmy?",
        "cta.sub": "Napisz, jaką branżę prowadzisz i jakie pytania klienci zadają najczęściej. Odeślemy propozycję wersji demo pod Twoją stronę.",
        "footer.try": "Przetestuj asystenta",
        "footer.contact": "Kontakt"
      },
      en: {
        "top.tagline": "AI assistants for businesses",
        "hero.title": "Demo of AI assistants that simply get the job done.",
        "hero.sub": "Switch agents like profiles. Same system, but different company knowledge and a different tone of voice. Customers get fast answers and a clear next step: offer, contact, booking.",
        "chips.1": "Company‑specific answers",
        "chips.2": "Available 24/7",
        "chips.3": "Consistent tone & rules",
        "chips.4": "Quick setup",
        "tags.local": "local",
        "tags.general": "general",
        "tags.premium": "premium",
        "buttons.open": "Open the assistant",
        "buttons.clear": "Clear chat",
        "side.how.title": "How to test",
        "side.how.body": "Click the chat icon in the bottom-right corner. Ask about the offer, opening hours or pricing.",
        "side.why.title": "Why switching matters",
        "side.why.body": "It shows real differences: tone, brevity, conversation flow and the final feel.",
        "side.safe.title": "Control",
        "side.safe.body": "The assistant doesn’t invent details. If something isn’t known, it suggests contacting the company.",
        "agent.amico": "Friendly and direct. Great for local services where speed and clarity matter.",
        "agent.demo": "A balanced, universal style to showcase capabilities. Detailed, but still concise.",
        "agent.premium": "Calm, elegant tone. For brands that want a highly refined customer experience.",
        "benefits.title": "What it gives a business",
        "benefits.sub": "Straightforward benefits you can actually see in a conversation.",
        "benefits.b1.title": "Fewer lost inquiries",
        "benefits.b1.body": "No waiting. Customers get answers immediately and know what to do next.",
        "benefits.b2.title": "Less load on the team",
        "benefits.b2.body": "Repeating questions (offer, hours, contact) are handled by the assistant, not staff.",
        "benefits.b3.title": "Consistent messaging",
        "benefits.b3.body": "Same quality of answers regardless of time, mood or who’s on shift.",
        "benefits.b4.title": "Better first impression",
        "benefits.b4.body": "Often it’s the first touchpoint. Speed and clarity matter.",
        "benefits.b5.title": "Industry‑specific setup",
        "benefits.b5.body": "Different business = different knowledge and tone. No “one universal bot”.",
        "benefits.b6.title": "Easy updates",
        "benefits.b6.body": "Offer changes? We update the configuration and the assistant stays current.",
        "onboarding.title": "How onboarding works",
        "onboarding.sub": "No technical talk. Just what happens and when you can have it live.",
        "onboarding.s1.title": "Short call",
        "onboarding.s1.body": "We define what the assistant should answer, the tone, and where it should guide customers.",
        "onboarding.s2.title": "Setup & live test",
        "onboarding.s2.body": "We prepare a tailored version and send it for a live check.",
        "onboarding.s3.title": "Go live",
        "onboarding.s3.body": "We launch it on your site and watch which questions appear most often.",
        "faq.title": "FAQ",
        "faq.sub": "Questions we hear most often.",
        "faq.q1": "Can it book appointments?",
        "faq.a1": "It can collect details and guide customers to the right contact. If you need full booking, we match it to your process.",
        "faq.q2": "Does it work on mobile?",
        "faq.a2": "Yes. The widget and the page are optimized for mobile devices.",
        "faq.q3": "Does it make things up?",
        "faq.a3": "It relies on the company’s configuration and knowledge. If something is missing, it says so and suggests contacting the company.",
        "faq.q4": "How long does onboarding take?",
        "faq.a4": "Usually very fast — it depends on how much information you want included and how you want it to guide the conversation.",
        "faq.q5": "Can the design match our website?",
        "faq.a5": "Yes. Colors, layout and behavior are configurable to fit your branding.",
        "cta.title": "Want a version for your business?",
        "cta.sub": "Tell us your industry and the most common customer questions. We’ll send a tailored demo proposal.",
        "footer.try": "Try the assistant",
        "footer.contact": "Contact"
      }
    };

    // ===== Agent meta per language =====
    const AGENTS = {
      amico: { pl: {title:"Amico", descKey:"agent.amico"}, en: {title:"Amico", descKey:"agent.amico"} },
      demo: { pl: {title:"Demo", descKey:"agent.demo"}, en: {title:"Demo", descKey:"agent.demo"} },
      premium: { pl: {title:"Premium", descKey:"agent.premium"}, en: {title:"Premium", descKey:"agent.premium"} }
    };

    // ===== WOW COLORS per agent (for Kontaktio WOW CSS vars) =====
    // To jest klucz: styl widgetu jest zawsze Apple-glass, a akcent zmienia się per agent.
    const WOW = {
      amico:   { a1: "#10b981", a2: "#22d3ee" },
      demo:    { a1: "#2563eb", a2: "#7c3aed" },
      premium: { a1: "#f59e0b", a2: "#10b981" }
    };

    // ===== State =====
    let currentScript = null;
    let currentClientId = "amico";
    let lang = "pl";

    const $ = (id) => document.getElementById(id);

    function t(key){
      return (COPY[lang] && COPY[lang][key]) ? COPY[lang][key] : key;
    }

    function applyI18n(){
      document.querySelectorAll("[data-i18n]").forEach((node) => {
        const key = node.getAttribute("data-i18n");
        node.textContent = t(key);
      });
      setAgentMeta(currentClientId);
    }

    function setLang(next){
      lang = next;
      $("langPL").classList.toggle("active", lang === "pl");
      $("langEN").classList.toggle("active", lang === "en");
      applyI18n();

      // po zmianie języka: pill nadal w tym samym miejscu, ale dla pewności przelicz
      requestAnimationFrame(movePillToActive);
    }

    function setAgentMeta(clientId){
      const meta = AGENTS[clientId] || AGENTS.amico;
      $("agentTitle").textContent = meta[lang]?.title || clientId;
      const descKey = meta[lang]?.descKey || "agent.amico";
      $("agentDesc").textContent = t(descKey);
    }

    // ===== Apply WOW vars (per agent) =====
    function applyWowThemeVars(clientId){
      const theme = WOW[clientId] || WOW.demo;
      document.documentElement.style.setProperty("--k-accent", theme.a1);
      document.documentElement.style.setProperty("--k-accent2", theme.a2);
    }

    // ===== Widget switching =====
    function resetKontaktio(){
      document.querySelectorAll("[id^='kontaktio-root']").forEach(el => el.remove());
      if (currentScript) currentScript.remove();
      window.__KontaktioBooted = false;
    }

    function loadAgent(clientId){
      currentClientId = clientId;

      // ustaw kolor akcentu widgetu zanim go zbootujesz (żeby od startu wyglądał wow)
      applyWowThemeVars(clientId);

      resetKontaktio();
      const script = document.createElement("script");
      script.src = SCRIPT_SRC;
      script.setAttribute("data-kontaktio", "");
      script.setAttribute("data-client", clientId);
      script.setAttribute("data-backend", BACKEND_URL);
      document.body.appendChild(script);
      currentScript = script;
    }

    // ===== Tabs pill animation =====
    function movePillToActive(){
      const tabs = $("tabs");
      const pill = $("pill");
      const active = tabs.querySelector("button.active");
      if (!active) return;

      const tabsRect = tabs.getBoundingClientRect();
      const aRect = active.getBoundingClientRect();
      const x = aRect.left - tabsRect.left;

      // FIX: width zawsze = rzeczywista szerokość przycisku (stała na desktopie)
      pill.style.width = aRect.width + "px";
      pill.style.transform = `translate3d(${x}px, 0, 0)`;
    }

    function setActiveButton(btn){
      document.querySelectorAll("#tabs button").forEach(b => b.classList.remove("active"));
      btn.classList.add("active");
      movePillToActive();

      const clientId = btn.dataset.client;
      setAgentMeta(clientId);
      loadAgent(clientId);
    }

    // ===== Actions =====
    function clearHistoryFor(clientId){
      try{
        localStorage.removeItem(`kontaktio-history-${clientId}`);
        localStorage.removeItem(`kontaktio-session-${clientId}`);
        localStorage.removeItem(`kontaktio-open-${clientId}`);
      }catch{}
    }

    $("btnClear").addEventListener("click", () => {
      clearHistoryFor(currentClientId);
      loadAgent(currentClientId);

      const b = $("btnClear");
      const old = b.textContent;
      b.textContent = (lang === "pl") ? "Wyczyszczono" : "Cleared";
      setTimeout(() => (b.textContent = old), 900);
    });

    $("btnOpen").addEventListener("click", () => {
      try { localStorage.setItem(`kontaktio-open-${currentClientId}`, "1"); } catch {}
      loadAgent(currentClientId);
    });

    // ===== Language buttons =====
    $("langPL").addEventListener("click", () => setLang("pl"));
    $("langEN").addEventListener("click", () => setLang("en"));

    // ===== Cursor glow =====
    (function initGlow(){
      const glow = $("glow");
      if (!glow) return;
      if (!window.matchMedia("(hover:hover)").matches) return;

      let raf = null;
      let x = -9999, y = -9999;
      function onMove(e){
        x = e.clientX - 390;
        y = e.clientY - 390;
        if (raf) return;
        raf = requestAnimationFrame(() => {
          glow.style.transform = `translate3d(${x}px, ${y}px, 0)`;
          raf = null;
        });
      }
      window.addEventListener("mousemove", onMove, { passive: true });
    })();

    // ===== Reveal on scroll =====
    (function reveal(){
      const items = Array.from(document.querySelectorAll("[data-reveal]"));
      if (!items.length) return;
      const io = new IntersectionObserver((entries) => {
        entries.forEach((e) => { if (e.isIntersecting) e.target.classList.add("on"); });
      }, { threshold: 0.10 });
      items.forEach(el => io.observe(el));
    })();

    // ===== Init tabs =====
    document.querySelectorAll("#tabs button").forEach(btn => {
      btn.addEventListener("click", () => setActiveButton(btn));
    });
    window.addEventListener("resize", movePillToActive, { passive: true });

    // ===== Footer year =====
    $("year").textContent = String(new Date().getFullYear());

    // ===== Start =====
    setLang("pl");
    setAgentMeta("amico");
    applyWowThemeVars("amico");
    requestAnimationFrame(movePillToActive);
    loadAgent("amico");
  </script>
</body>
</html>
